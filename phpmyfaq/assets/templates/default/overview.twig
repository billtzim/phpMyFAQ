{% extends 'index.twig' %}

{% block content %}
<section class="col-12">
  <h1>{{ pageHeader }}</h1>

  {% set lastCategory = 0 %}
  {% for faq in faqOverview %}

    {% if (faq['category_id'] != null and faq['category_id'] != lastCategory) %}
      <header class="d-flex align-items-center justify-content-between my-4">
        <h3>
          <span class="badge bg-info shadow-info fs-base fw-normal">{{ faq['category_id'] | categoryName }}</span>
        </h3>
        <a href="#" class="btn btn-outline-primary ms-4">
          {{ 'msgGoToCategory' | translate }}
          <i class="bi bi-arrow-right ms-1 fs-lg"></i>
        </a>
      </header>
    {% endif %}

    <article class="card mb-4">
      <div class="card-body">
        <div class="d-flex justify-content-between mb-3">
          <a href="#" class="btn btn-icon btn-secondary btn-sm rounded-circle position-absolute top-0 end-0 zindex-5 me-3 mt-3"
             data-bs-toggle="tooltip" data-bs-placement="left" aria-label="{{ 'msgAddBookmark' | translate }}"
             data-bs-original-title="{{ 'msgAddBookmark' | translate }}">
            <i class="bi bi-bookmark"></i>
          </a>
        </div>
        <h4 class="h4">
          {{ faq['title'] }}
        </h4>
        <p class="mb-4">
          {{ faq['content'] | raw }}
        </p>
        <div class="d-flex align-items-center text-muted">
          <div class="fs-sm border-end pe-3 me-3">
            <i class="bi bi-calendar-date"></i>
            {{ faq['updated'] | date('Y-m-d H:i') }}
          </div>
          <div class="d-flex align-items-center me-3">
            <i class="bi bi-person fs-lg me-1"></i>
            <span class="fs-sm">{{ faq['author'] }}</span>
          </div>
        </div>
      </div>
    </article>

    {% set lastCategory = faq['category_id'] %}
  {% endfor %}
</section>

{% endblock %}
